Key Topics:
API Security and Gateway Configuration: Chip Steen discussed the API security and gateway configuration in Azure, highlighting the need for an extra layer of security for accessing the API and communication. They explained the front-end listener, SSL profile, and the mutual TLS termination at the gateway. 2:10
Certificate Validity and Renewal: Chandan inquired about the validity and renewal of the certificates, and Chip Steen confirmed that the certificates from DigiCert are valid until 2031, but they will double-check the information. 4:22
Client Certificate Authentication: Chip Steen explained the process of client certificate authentication, where the customer provides the client certificate, signs it with their private key, and the system authenticates it at the gateway before forwarding it to the API management instance and the API server. 4:49
Web Application Firewall and Policy Settings: Chip Steen and Lidiexy discussed the web application firewall (WAF) and its policy settings, including the default OWASP rules provided by Azure and the importance of protecting customer data. 6:03
API Management and Future Plans: Lidiexy mentioned the current use of API management as a target for customers and the potential future plan to replace it with the API gateway as a proxy, reducing the need for API management. 7:24
Whitelisting IP Addresses: Chip Steen demonstrated the process of whitelisting IP addresses in the network security group attached to the gateway, using Navy Federal Credit Union as an example. 9:33
Rewrites and Client Certificate Headers: Chip Steen explained the importance of rewrites in the gateway to ensure that the API management instance and the API server receive the client certificate in the headers, mentioning the specific requirements from Navy and Barclays. 11:14
API Management Service Configuration: Chip Steen provided an overview of the API management service configuration, including custom domains, versioning, and inbound policies, emphasizing the importance of not requiring Azure tenant subscription keys for API requests. 15:31
Handling Customer Requests and Errors: Chip Steen and Lidiexy discussed the challenges of handling customer requests and errors, specifically mentioning Navy's reluctance to admit errors on their side and the need to log detailed information to prove the issue was not on their end. 21:49
Redundant Resources and Cost Management: Chandan and Chip Steen discussed the potential redundancy of certain resources created during the setup process and the importance of managing storage costs by monitoring logs and removing unnecessary resources. 21:02
Environment Setup for Different Stages: Chandan confirmed with Chip Steen that separate API management services are set up for different environments, such as QA, UAT, and production, with UAT being directly accessible for internal use. 19:18
Logging and Monitoring for Troubleshooting: Chip Steen explained the use of Azure Monitor and detailed logging to troubleshoot issues with customer requests, specifically mentioning the case with Navy and the need to log all headers and responses to identify the problem. 22:56
Future Plans for API Management: Chip Steen mentioned the possibility of removing the API management instance in the future and going directly from the gateway to the API server, depending on the time available for testing and implementation. 27:31
